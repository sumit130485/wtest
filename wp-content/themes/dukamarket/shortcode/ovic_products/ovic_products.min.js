!function(a){"use strict";a.fn.dukamarket_load_products=function(i,t){var n=a(this),o="fadeInUp",e=i,d=a(".ovic-products."+t),s=d.find("ul.products"),r=s.data("next_page"),l=s.data("total_page"),c=d.find(".button-products a.button");e.args.page=r,e.args.paginate=!1,a.ajax({type:"POST",url:dukamarket_params.dukamarket_ajax_url.toString().replace("%%endpoint%%","product_load_more"),data:{security:dukamarket_params.security,data:e},beforeSend:function(){"load_more"===e.pagination?c.addClass("loading"):d.addClass("loading")},success:function(i){if(i){var u=a(i).find(".product-item");if(n.closest(".ovic-tabs").length&&(o=n.closest(".ovic-tabs").find(".tabs-head a.loaded").data("animate")),u.length){if(""!==o&&"grid"===e.list_style)u.each(function(i){var t=a(this),n=t.attr("style"),e=100*i;n=void 0===n?"":n,t.attr("style",n+";-webkit-animation-delay:"+e+"ms;-moz-animation-delay:"+e+"ms;-o-animation-delay:"+e+"ms;animation-delay:"+e+"ms;").addClass(o+" animated").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){t.removeClass(o+" animated"),t.attr("style",n)}),s.append(t)});else if("owl"===e.list_style){var m=s.data("slick"),p=s.find(".last-slick").data("slick-index");m.infinite=!1,u=a(i).find(".products").slick(m).find(".slick-slide"),s.slick("slickAdd",u),s.slick("slickGoTo",p)}else s.append(u),s.hasClass("kute-boutique-isotope")&&a.fn.dukamarket_isotope_grid&&s.isotope("appended",u,!0).isotope("reloadItems").dukamarket_isotope_grid();setTimeout(function(a){a.hasClass("equal-container").length&&a.dukamarket_better_equal_elems(),a.find(".product-item.style-01").length&&a.find(".product-item.style-01").dukamarket_hover_product(),a.find(".product-item.style-02").length&&a.find(".product-item.style-02").dukamarket_hover_product(),a.find(".yith-wcqv-button,.compare-button a.compare,.yith-wcwl-add-to-wishlist a").length&&a.find(".yith-wcqv-button,.compare-button a.compare,.yith-wcwl-add-to-wishlist a").dukamarket_bootstrap_tooltip()},100,s),r+1>=l?("load_more"===e.pagination&&c.parent().remove(),window["is_busy_"+t]=!0):(window["is_busy_"+t]=!1,s.data("next_page",r+1))}else"load_more"===e.pagination&&c.parent().remove(),window["is_busy_"+t]=!0;"load_more"===e.pagination?c.removeClass("loading"):d.removeClass("loading")}else window["is_busy_"+t]=!0}})},a.fn.dukamarket_load_infinite=function(){a(this).each(function(){var i=a(this),t=0,n=i.attr("data-id"),o=window["dukamarket_shortcode_"+n];void 0!==o&&"infinite"===o.pagination&&(window["is_busy_"+n]=!1,"owl"!==o.list_style?a(document).on("scroll",function(){var e=a(this).scrollTop(),d=i.height()+i.offset().top;e>t&&a(window).scrollTop()+a(window).height()>=d&&(!1===window["is_busy_"+n]&&i.dukamarket_load_products(o,n),window["is_busy_"+n]=!0),t=e}):i.find(".owl-slick").on("afterChange",function(t,e){a(t.target).find(".last-slick").data("slick-index")===e.slideCount-1&&!1===window["is_busy_"+n]&&i.dukamarket_load_products(o,n)}))})},a(document).on("click",".ovic-products .load_more-products",function(i){i.preventDefault();var t=a(this),n=t.closest(".ovic-products").attr("data-id"),o=window["dukamarket_shortcode_"+n];t.dukamarket_load_products(o,n)}),document.addEventListener("DOMContentLoaded",function(){a(".ovic-products.infinite-products").length&&a(".ovic-products.infinite-products").dukamarket_load_infinite()})}(window.jQuery);